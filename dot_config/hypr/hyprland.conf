# Chrome Pulse Pink - Hyprland Configuration
# Y2K Retrofuturism Aesthetic
# Templated by chezmoi

################
### MONITORS ###
################
source=~/.config/hypr/monitors.conf

###################
### MY PROGRAMS ###
###################
# Set programs that you use
$terminal = kitty
$fileManager = kitty -e ranger
$menu = wofi --show drun
$browser = firefox

# Source color definitions (templated from chrome-pulse-pink.yaml)
source=~/.config/hypr/colors.conf
source=~/.config/hypr/keybinds.conf

#################
### AUTOSTART ###
#################

# GTK/Qt theming
exec-once = gsettings set org.gnome.desktop.interface color-scheme "prefer-dark"
exec-once = gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3"

# Wallpaper - Y2K aesthetic
exec-once = swww-daemon
exec-once = ~/.config/hypr/swww-wallpaper.sh

# UI components
exec-once = waybar
exec-once = swaync

# System utilities
exec-once = swayidle -w timeout 300 'loginctl lock-session' timeout 600 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' before-sleep 'loginctl lock-session'
exec-once = lxqt-policykit-agent

# Clipboard manager
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store


#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt6ct


#####################
### LOOK AND FEEL ###
#####################

workspace = 1, monitor:HDMI-A-1
workspace = 2, monitor:DP-1

# https://wiki.hypr.land/Configuring/Variables/#general
general {
    gaps_in = 5
    gaps_out = 10
    
    # Y2K Aesthetic: Slightly thicker borders for that chrome frame look
    border_size = 2
    
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}

# https://wiki.hypr.land/Configuring/Variables/#decoration
decoration {
    # Y2K Aesthetic: Rounded corners like early 2000s UI elements
    rounding = 10
    
    active_opacity = 1.0
    inactive_opacity = 0.95  # Slightly transparent for depth
    
    shadow {
        enabled = true
        range = 8          # Larger shadow for that CRT glow effect
        render_power = 3
        color = $shadow
        
        # Offset for depth perception
        offset = 2 2
    }
    
    blur {
        enabled = true
        size = 6           # Slightly more blur for glass/chrome effect
        passes = 2         # More passes for smoother blur
        vibrancy = 0.2     # Enhanced vibrancy for Y2K glossy look
        brightness = 1.0
        contrast = 1.0
        noise = 0.02       # Slight noise for analog feel
        
        # Blur behind special windows
        special = true
    }
    
    # Dimming for inactive windows (subtle depth)
    dim_inactive = false
    dim_strength = 0.05
}

# https://wiki.hypr.land/Configuring/Variables/#animations
animations {
    enabled = yes
    bezier = uiSmooth, 0.25, 1.0, 0.50, 1.0    
    bezier = fastSnap, 0.3, 0.0, 0.7, 1.0    
    # Y2K Aesthetic: Smooth but energetic animations
    # Bezier curves for that early 2000s bounce feel
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1
    bezier = bounce, 0.68, -0.55, 0.265, 1.55
    
    # Window animations - Bouncy Y2K feel
    animation = windows,       1,  5, fastSnap
    animation = windowsOut,    1,  2, fastSnap
    animation = windowsMove,   0,  1, fastSnap
    
    # Border animations - Hot pink glow pulsing
    animation = border, 1, 10, default
    animation = borderangle, 1, 100, default, loop  # Continuous gradient rotation
    
    # Fade animations - CRT screen fade effect
    animation = fade, 1, 7, default
    animation = fadeOut, 1, 4, smoothOut
    
    # Workspace animations - Slide like old UI transitions
    animation = workspaces,    0,  2, fastSnap
    animation = specialWorkspace, 0,  2, fastSnap, slidevert
}

# See https://wiki.hypr.land/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true
    preserve_split = true
    
    # Smart resizing for that organized desktop feel
    smart_split = false
    smart_resizing = true
}

# See https://wiki.hypr.land/Configuring/Master-Layout/ for more
master {
    new_status = master
    
    # Y2K Aesthetic: Clean master layout
    new_on_top = true
    orientation = left
}

# https://wiki.hypr.land/Configuring/Variables/#misc
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    disable_splash_rendering = true
    
    # VFR for performance (smooth like a CRT refresh)
    vfr = true
    vrr = 1
    
    # Mouse settings
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    
    # Focus behavior
    focus_on_activate = true
    
    # Animate manual window resizes
    animate_manual_resizes = true
    animate_mouse_windowdragging = true
    
    # Background color when no wallpaper (deep void)
    background_color = 0x0B0C10
    
    # Enable grouping
    enable_swallow = false
    swallow_regex = ^(kitty)$
}


#############
### INPUT ###
#############

# https://wiki.hypr.land/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    
    follow_mouse = 1
    
    # Mouse sensitivity (fine-tuned)
    sensitivity = -0.2
    accel_profile = flat
    
    touchpad {
        natural_scroll = false
        disable_while_typing = true
        clickfinger_behavior = true
        tap-to-click = true
        drag_lock = false
    }
}

# Example per-device config
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Window rules - Y2K aesthetic touches
windowrule = suppressevent maximize, class:.*
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Floating windows (like old Windows XP dialogs)
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(lxqt-policykit-agent)$

# Special window rules for aesthetics
windowrulev2 = opacity 0.95 0.85, floating:1
windowrulev2 = bordercolor $accent $pink_glow, floating:1

# Picture-in-picture
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = bordercolor $accent, title:^(Picture-in-Picture)$

# Firefox PiP
windowrulev2 = float, title:^(Firefox — Sharing Indicator)$
windowrulev2 = move 0 0, title:^(Firefox — Sharing Indicator)$

# Workspace rules for special apps
windowrulev2 = workspace 2 silent, class:^(firefox)$
windowrulev2 = workspace 3 silent, class:^(discord)$
windowrulev2 = workspace 4 silent, class:^(steam)$

# Y2K Aesthetic: Opacity rules for terminal (slight transparency for glass effect)
windowrulev2 = opacity 0.98 0.95, class:^(kitty)$
windowrulev2 = opacity 0.98 0.95, class:^(Alacritty)$

# Center floating windows
windowrulev2 = center, floating:1

# Tearing for gaming performance
windowrulev2 = immediate, class:^(cs2)$
windowrulev2 = immediate, class:^(steam_app).*

#########################
### LAYER RULES ###
#########################

# Waybar layer rules (hot pink accents)
layerrule = blur, waybar
layerrule = ignorezero, waybar

# Notification layer
layerrule = blur, notifications
layerrule = ignorezero, notifications

# Wofi/launcher layer
layerrule = blur, wofi
layerrule = ignorezero, wofi
